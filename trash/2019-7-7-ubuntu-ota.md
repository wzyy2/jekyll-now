---
layout: post
title: [OS]Ubuntu系统的OTA改造之路
category: [OS]
tag: [CN]
---

# What



# Why

    如何解决资源分配与安全问题是无人驾驶技术的一个大课题。想象两个简单的攻击场景：第一，其中一个ROS的节点被劫持，然后不断地分配内存，导致系统内存消耗殆尽，造成系统OOM而开始关闭不同的ROS节点进程，从而整个无人驾驶系统崩溃。第二，ROS的topic或者service被劫持, ROS节点之间传递的信息被伪造，导致无人驾驶系统行为异常。

    我们选择的方法是使用Linux Container（LXC）来管理每一个ROS节点进程。简单来说，LXC提供轻量级的虚拟化以便隔离进程和资源，而且不需要提供指令解释机制以及全虚拟化等其他复杂功能，相当于C++中的NameSpace。LXC有效地将单个操作系统管理的资源划分到孤立的群组中，以更好地在孤立的群组之间平衡有冲突的资源使用需求。对于无人驾驶场景来说，LXC最大的好处是性能损耗小。我们测试发现，在运行时LXC只造成了5%左右的CPU损耗。

    除了资源限制外，LXC也提供了沙盒支持，使得系统可以限制ROS节点进程的权限。为了避免有危险性的ROS节点进程可能破坏其他ROS节点进程的运行，沙盒技术可以限制可能有危险性的ROS节点访问磁盘、内存以及网络资源。另外为了防止节点中的通信被劫持，我们还实现了节点中通信的轻量级加密解密机制，使黑客不能回放或更改通信内容。

# How

## Existing

### docker

### lxc

### OS

## What can we do



